{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport axios from 'axios';\nvar baseURL = 'http://192.168.101.13:4000/api/';\nexport var api = axios.create({\n  baseURL: baseURL,\n  withCredentials: false\n});\nvar handleRequest = function handleRequest(reqPromise) {\n  return reqPromise.then(function (data) {\n    return data.data;\n  }).catch(function (err) {\n    var _message, _response, _response$data;\n    throw new Error((_message = (_response = err.response) == null ? void 0 : (_response$data = _response.data) == null ? void 0 : _response$data.message) != null ? _message : 'Something went wrong');\n  });\n};\nexport var apiPost = function apiPost(route, data) {\n  return handleRequest(api.post(route, data));\n};\nexport var apiPut = function apiPut(route, data) {\n  return handleRequest(api.put(route, data));\n};\nexport var apiGet = function apiGet(route, params, extra) {\n  return handleRequest(api.get(route, _objectSpread({\n    params: params\n  }, extra)));\n};\nexport var apiDelete = function apiDelete(route) {\n  return handleRequest(api.delete(route));\n};\napi.defaults.headers.common['Content-Type'] = 'application/json';\napi.interceptors.response.use(function (res) {\n  return res;\n}, function (err) {\n  return Promise.reject(err);\n});\nexport var checkServerStatus = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      var res = yield api.get('/');\n      return res.status === 200;\n    } catch (err) {\n      return false;\n    }\n  });\n  return function checkServerStatus() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","baseURL","api","create","withCredentials","handleRequest","reqPromise","then","data","catch","err","_message","_response","_response$data","Error","response","message","apiPost","route","post","apiPut","put","apiGet","params","extra","get","_objectSpread","apiDelete","delete","defaults","headers","common","interceptors","use","res","Promise","reject","checkServerStatus","_ref","_asyncToGenerator","status","apply","arguments"],"sources":["C:/Users/syho0/OneDrive/Desktop/Code/capstone_project_app/api/base.ts"],"sourcesContent":["import axios, { AxiosResponse, AxiosError } from 'axios';\r\n\r\nconst baseURL = 'http://192.168.101.13:4000/api/';\r\n\r\nexport const api = axios.create({\r\n    baseURL,\r\n    withCredentials: false,\r\n});\r\n\r\nconst handleRequest = <T>(reqPromise: Promise<AxiosResponse<T>>) =>\r\n    reqPromise\r\n        .then(data => data.data)\r\n        .catch(err => {\r\n            throw new Error(\r\n                (\r\n                    (err as AxiosError).response?.data as { message: string }\r\n                )?.message ?? 'Something went wrong'\r\n            );\r\n        });\r\n\r\n\r\nexport const apiPost = <T>(route: string, data?: any) => {\r\n    return handleRequest(api.post<T>(route, data));\r\n};\r\nexport const apiPut = <T>(route: string, data?: any) => {\r\n    return handleRequest(api.put<T>(route, data));\r\n};\r\nexport const apiGet = <T>(route: string, params?: any, extra?: any) => {\r\n    return handleRequest(api.get<T>(route, { params, ...extra }));\r\n};\r\nexport const apiDelete = <T>(route: string) => {\r\n    return handleRequest(api.delete<T>(route));\r\n};\r\n\r\napi.defaults.headers.common['Content-Type'] = 'application/json';\r\n\r\napi.interceptors.response.use(\r\n    res => res,\r\n    err => {\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\nexport const checkServerStatus = async () => {\r\n    try {\r\n        const res = await api.get('/');\r\n        return res.status === 200;\r\n    } catch (err) {\r\n        return false;\r\n    }\r\n}\r\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAqC,OAAO;AAExD,IAAMC,OAAO,GAAG,iCAAiC;AAEjD,OAAO,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC5BF,OAAO,EAAPA,OAAO;EACPG,eAAe,EAAE;AACrB,CAAC,CAAC;AAEF,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAOC,UAAqC;EAAA,OAC3DA,UAAU,CACLC,IAAI,CAAC,UAAAC,IAAI;IAAA,OAAIA,IAAI,CAACA,IAAI;EAAA,EAAC,CACvBC,KAAK,CAAC,UAAAC,GAAG,EAAI;IAAA,IAAAC,QAAA,EAAAC,SAAA,EAAAC,cAAA;IACV,MAAM,IAAIC,KAAK,EAAAH,QAAA,IAAAC,SAAA,GAENF,GAAG,CAAgBK,QAAQ,sBAAAF,cAAA,GAA5BD,SAAA,CAA8BJ,IAAI,qBADtCK,cAAA,CAEGG,OAAO,YAAAL,QAAA,GAAI,sBAClB,CAAC;EACL,CAAC,CAAC;AAAA;AAGV,OAAO,IAAMM,OAAO,GAAG,SAAVA,OAAOA,CAAOC,KAAa,EAAEV,IAAU,EAAK;EACrD,OAAOH,aAAa,CAACH,GAAG,CAACiB,IAAI,CAAID,KAAK,EAAEV,IAAI,CAAC,CAAC;AAClD,CAAC;AACD,OAAO,IAAMY,MAAM,GAAG,SAATA,MAAMA,CAAOF,KAAa,EAAEV,IAAU,EAAK;EACpD,OAAOH,aAAa,CAACH,GAAG,CAACmB,GAAG,CAAIH,KAAK,EAAEV,IAAI,CAAC,CAAC;AACjD,CAAC;AACD,OAAO,IAAMc,MAAM,GAAG,SAATA,MAAMA,CAAOJ,KAAa,EAAEK,MAAY,EAAEC,KAAW,EAAK;EACnE,OAAOnB,aAAa,CAACH,GAAG,CAACuB,GAAG,CAAIP,KAAK,EAAAQ,aAAA;IAAIH,MAAM,EAANA;EAAM,GAAKC,KAAK,CAAE,CAAC,CAAC;AACjE,CAAC;AACD,OAAO,IAAMG,SAAS,GAAG,SAAZA,SAASA,CAAOT,KAAa,EAAK;EAC3C,OAAOb,aAAa,CAACH,GAAG,CAAC0B,MAAM,CAAIV,KAAK,CAAC,CAAC;AAC9C,CAAC;AAEDhB,GAAG,CAAC2B,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,cAAc,CAAC,GAAG,kBAAkB;AAEhE7B,GAAG,CAAC8B,YAAY,CAACjB,QAAQ,CAACkB,GAAG,CACzB,UAAAC,GAAG;EAAA,OAAIA,GAAG;AAAA,GACV,UAAAxB,GAAG,EAAI;EACH,OAAOyB,OAAO,CAACC,MAAM,CAAC1B,GAAG,CAAC;AAC9B,CACJ,CAAC;AAED,OAAO,IAAM2B,iBAAiB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;IACzC,IAAI;MACA,IAAML,GAAG,SAAShC,GAAG,CAACuB,GAAG,CAAC,GAAG,CAAC;MAC9B,OAAOS,GAAG,CAACM,MAAM,KAAK,GAAG;IAC7B,CAAC,CAAC,OAAO9B,GAAG,EAAE;MACV,OAAO,KAAK;IAChB;EACJ,CAAC;EAAA,gBAPY2B,iBAAiBA,CAAA;IAAA,OAAAC,IAAA,CAAAG,KAAA,OAAAC,SAAA;EAAA;AAAA,GAO7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}